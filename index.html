<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shri Mahavishu Engineers</title>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: #f2f2f2;
    }
    header {
      background: linear-gradient(90deg, #004aad, #007bff);
      color: white;
      text-align: center;
      padding: 30px 10px;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
    }
    header p {
      margin: 5px 0 15px;
      font-size: 1.1rem;
    }
    .btn-main {
      background: white;
      color: #004aad;
      border: none;
      padding: 12px 24px;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }
    .btn-main:hover {
      background: #ffd700;
      color: #000;
    }

    .motor-section {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 25px;
      margin: 40px;
    }
    .motor-card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      width: 320px;
      text-align: center;
      padding: 20px;
    }
    .motor-card img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-radius: 10px;
    }
    .motor-card select, .motor-card input {
      margin-top: 10px;
      padding: 6px;
      width: 70%;
    }
    .motor-card button {
      margin-top: 10px;
      background: #004aad;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
    }
    .motor-card button:hover {
      background: #007bff;
    }

    footer {
      background: #004aad;
      color: white;
      padding: 20px;
      text-align: center;
    }

    /* Modal */
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
    }
    .modal.show { display: flex; }
    .modal-content {
      background: white;
      padding: 25px;
      border-radius: 10px;
      width: 350px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .modal-content input, .modal-content select {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
    }
    .modal-content button {
      background: #004aad;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 6px;
      width: 100%;
      cursor: pointer;
    }
  </style>
</head>
<body onload="changeImages()">
  <header>
    <h1>Shri Mahavishu Engineers</h1>
    <p>Quality Pumps & Motors for Every Need</p>
    <button class="btn-main" onclick="document.getElementById('motorSection').scrollIntoView({behavior:'smooth'})">
      View Motors
    </button>
  </header>

  <section id="motorSection" class="motor-section">
    <div class="motor-card">
      <h2>Openwell Motor</h2>
      <img id="openwellImg" src="" alt="Openwell Motor">
      <p>Choose HP:</p>
      <select id="openwellHP">
        <option value="1 HP">1 HP</option>
        <option value="1.5 HP">1.5 HP</option>
      </select><br>
      <label>Quantity:</label><br>
      <input type="number" id="openwellQty" min="1" value="1"><br>
      <button class="order-btn" data-type="Openwell">Order Now</button>
    </div>

    <div class="motor-card">
      <h2>V-Type Motor</h2>
      <img id="vtypeImg" src="" alt="V-Type Motor">
      <p>Choose HP:</p>
      <select id="vtypeHP">
        <option value="1 HP">1 HP</option>
        <option value="2 HP">2 HP</option>
        <option value="3 HP">3 HP</option>
        <option value="4 HP">4 HP</option>
        <option value="5 HP">5 HP</option>
        <option value="6 HP">6 HP</option>
        <option value="7 HP">7 HP</option>
        <option value="8 HP">8 HP</option>
        <option value="9 HP">9 HP</option>
        <option value="10 HP">10 HP</option>
        <option value="11 HP">11 HP</option>
        <option value="12 HP">12 HP</option>
        <option value="13 HP">13 HP</option>
        <option value="14 HP">14 HP</option>
        <option value="15 HP">15 HP</option>
      </select><br>
      <label>Quantity:</label><br>
      <input type="number" id="vtypeQty" min="1" value="1"><br>
      <button class="order-btn" data-type="V-Type">Order Now</button>
    </div>
    <div class="motor-card">
      <h2>V4-Type Motor</h2>
      <img id="vtypeImg" src="" alt="V4-Type Motor">
      <p>Choose HP:</p>
      <select id="v4typeHP">
        <option value="1 HP">1 HP</option>
        <option value="2 HP">2 HP</option>
        <option value="3 HP">3 HP</option>
        <option value="4 HP">4 HP</option>
        <option value="5 HP">5 HP</option>
        <option value="6 HP">6 HP</option>
        <option value="7 HP">7 HP</option>
        <option value="8 HP">8 HP</option>
        <option value="9 HP">9 HP</option>
        <option value="10 HP">10 HP</option>
      </select><br>
      <label>Quantity:</label><br>
      <input type="number" id="v4typeQty" min="1" value="1"><br>
      <button class="order-btn" data-type="v4type">Order Now</button>
    </div>
  </section>

  <footer>
    <h3>Contact Us</h3>
    <p><strong>Phone:</strong> 7904426170</p>
    <p><strong>Address:</strong> Maskalipalayam, Peelamedu Pudur, Coimbatore</p>
  </footer>

  <!-- Popup Modal -->
  <div class="modal" id="orderModal">
    <div class="modal-content">
      <h3>Place Your Order</h3>
      <form id="orderForm">
        <input type="text" id="name" placeholder="Your Name" required>
        <input type="tel" id="phone" placeholder="Phone Number" required>
        <input type="text" id="address" placeholder="Address" required>
        <input type="text" id="motorType" readonly>
        <input type="text" id="motorHP" readonly>
        <input type="number" id="quantity" readonly>
        <select id="payment" required>
          <option value="">Select Payment</option>
          <option value="Cash">Cash</option>
          <option value="Online">Online</option>
        </select>
        <button type="submit">Submit Order</button>
      </form>
    </div>
  </div>

  <script>
    // ========== IMAGE ROTATION ==========
    const openwellImages = [
      "https://5.imimg.com/data5/SELLER/Default/2021/3/XO/WJ/MG/119196624/openwell-submersible-pump.jpg",
      "https://5.imimg.com/data5/SELLER/Default/2023/1/HM/BD/XA/10118823/openwell-submersible-pump.jpg",
      "https://5.imimg.com/data5/SELLER/Default/2021/12/IM/ZK/OS/13158410/openwell-pump.jpg"
    ];
    const vtypeImages = [
      "https://5.imimg.com/data5/SELLER/Default/2021/12/GP/ND/ZJ/104749037/v6-borewell-submersible-pump.jpg",
      "https://5.imimg.com/data5/SELLER/Default/2020/12/TV/AV/OU/31633864/v4-submersible-pump.jpg",
      "https://5.imimg.com/data5/SELLER/Default/2021/11/HM/PU/FF/13175647/v8-submersible-pump.jpg"
    ];
    function changeImages() {
      document.getElementById("openwellImg").src = openwellImages[Math.floor(Math.random()*openwellImages.length)];
      document.getElementById("vtypeImg").src = vtypeImages[Math.floor(Math.random()*vtypeImages.length)];
    }

    // ========== POPUP HANDLING ==========
    const modal = document.getElementById("orderModal");
    const orderButtons = document.querySelectorAll(".order-btn");

    orderButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const type = btn.dataset.type;
        const hp = document.getElementById(type==="Openwell"?"openwellHP":type==="V-Type"?"vtypeHP":"v4typeHP").value;
        const qty = document.getElementById(type==="Openwell"?"openwellQty":type==="V-Type"?"vtypeQty":"v4typeQty").value;

        document.getElementById("motorType").value = type;
        document.getElementById("motorHP").value = hp;
        document.getElementById("quantity").value = qty;
        modal.classList.add("show");
      });
    });

    modal.addEventListener("click", (e) => {
      if (e.target === modal) modal.classList.remove("show");
    });

    // ========== FORM SUBMIT ==========
    document.getElementById("orderForm").addEventListener("submit", async function (e) {
      e.preventDefault();
      const formData = {
        name: document.getElementById("name").value,
        phone: document.getElementById("phone").value,
        address: document.getElementById("address").value,
        motorType: document.getElementById("motorType").value,
        hp: document.getElementById("motorHP").value,
        quantity: document.getElementById("quantity").value,
        payment: document.getElementById("payment").value
      };
      try {
        await fetch("https://script.google.com/macros/s/AKfycbzTi1Pt5RXwUuXv-3MoDAaJbnthcSH8--zjvS9jLHDN5CcaOdyRduzAeVhvYqQ4dxTJ_Q/exec", {
          method: "POST",
          mode: "no-cors",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(formData)
        });
        alert("✅ Order submitted successfully!");
        document.getElementById("orderForm").reset();
        modal.classList.remove("show");
      } catch (err) {
        console.error(err);
        alert("⚠️ Unable to send data. Please check your script URL or internet.");
      }
    });
  </script>
</body>
</html>